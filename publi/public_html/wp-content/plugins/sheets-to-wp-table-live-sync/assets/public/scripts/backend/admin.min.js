(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var t=jQuery.noConflict(),n=function(){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.sheet_form=t("#gswpts_create_table"),this.sheet_details=t("#sheet_details"),this.sheet_container=t("#spreadsheet_container"),this.isProPluginActive()?this.settings_field=t("#show_title, \n                #rows_per_page, \n                #info_block, \n                #responsive, \n                #show_entries, \n                #swap_filter_inputs, \n                #swap_bottom_options, \n                #sorting, \n                #search_table, \n                #table_exporting, \n                #vertical_scrolling,\n                #cell_format,\n                #import_styles\n                "):this.settings_field=t("#show_title, #rows_per_page, #info_block, #show_entries, #swap_filter_inputs, #swap_bottom_options, #sorting, #search_table")}var a,o;return a=n,o=[{key:"call_alert",value:function(e,t,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bottom-right";this.suiAlert({title:e,description:t,type:n,time:a,position:o})}},{key:"isProPluginActive",value:function(){return file_url.isProActive}},{key:"html_loader",value:function(){return'\n               <div class="ui segment gswpts_table_loader">\n                        <div class="ui active inverted dimmer">\n                            <div class="ui large text loader">Loading</div>\n                        </div>\n                        <p></p>\n                        <p></p>\n                        <p></p>\n                </div>\n            '}},{key:"sheet_details_html",value:function(e){return'\n                <div id="sheet_ui_card" class="ui card" style="min-width: 360px;">\n                    <div class="content">\n                        <div class="row">\n                            <div id="shortcode_container" style="display: none !important;" class="col-12 d-flex align-items-center justify-content-center transition hidden">\n                                <h6 class="m-0" style="white-space: nowrap;font-weight: bold;">Table Shortcode: </h6>\n                                <h6 class="m-0 ml-2">\n                                    <div class="ui action input">\n                                        <input id="sortcode_value" type="text" class="copyInput" value="">\n                                        <button id="sortcode_copy" type="button" name="copyToken" value="copy" class="copyToken ui right icon button">\n                                            <i class="clone icon"></i>\n                                        </button>\n                                    </div>\n                                </h6>\n                            </div>\n                        </div>\n                    </div>\n            </div>\n            '}},{key:"show_shortcode",value:function(e){t("#shortcode_container").removeAttr("style"),t("#shortcode_container").transition("scale"),t("#sortcode_value").val("[gswpts_table id=".concat(e,"]"))}},{key:"copy_shorcode",value:function(e){var n=t(e.currentTarget).siblings("input");n.attr("type","text"),n.focus(),n.select(),document.execCommand("copy"),n.attr("type","hidden"),this.call_alert("Copied &#128077;","<b>Sortcode copied successfully</b>","info",2)}},{key:"btn_changer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.html("\n                            ".concat(t,"\n                        ")),!1!==n&&e.attr("req-type",n)}},{key:"get_slug_parameter",value:function(e){var t=new URL(window.location);return new URLSearchParams(t.search).get(e)||!1}},{key:"table_settings_obj",value:function(){var e={table_title:t("#show_title").prop("checked"),defaultRowsPerPage:"all"==t("#rows_per_page").find("input[name=rows_per_page]").val()?-1:t("#rows_per_page").find("input[name=rows_per_page]").val(),showInfoBlock:t("#info_block").prop("checked"),showXEntries:t("#show_entries").prop("checked"),swapFilterInputs:t("#swap_filter_inputs").prop("checked"),swapBottomOptions:t("#swap_bottom_options").prop("checked"),allowSorting:t("#sorting").prop("checked"),searchBar:t("#search_table").prop("checked")};return this.isProPluginActive()&&(e.responsiveStyle=t("#responsive_style").find("input[name=responsive_style]").val(),e.tableExport=t("#table_exporting").val().split(",")||null,e.verticalScroll=t("#vertical_scrolling").find("input[name=vertical_scrolling]").val(),e.cellFormat=t("#cell_format").find("input[name=cell_format]").val(),e.redirectionType=t("#redirection_type").find("input[name=redirection_type]").val(),e.tableCache=t("#table_cache").prop("checked"),e.tableStyle=t("#table_style").val(),e.hideColumn=t("#hide_column").val()?JSON.parse(t("#hide_column").val()):"",e.hideRows=t("#hide_rows").val()&&JSON.parse(t("#hide_rows").val()).length?JSON.parse(t("#hide_rows").val()):"",e.hideCell=t("#hide_cell").val()&&JSON.parse(t("#hide_cell").val()).length?JSON.parse(t("#hide_cell").val()):"",e.importStyles=t("#import_styles").prop("checked")),e}},{key:"default_settings",value:function(){return{table_title:!1,defaultRowsPerPage:10,showInfoBlock:!0,responsiveTable:!1,showXEntries:!0,swapFilterInputs:!1,swapBottomOptions:!1,allowSorting:!0,searchBar:!0,tableExport:null,verticalScroll:null,cellFormat:"expanded",tableCache:!1,tableStyle:null,hideColumn:null,hideRows:null,tableStyles:!1}}},{key:"table_changer",value:function(e,n,a){t("#create_tables").DataTable(this.table_object(e,a,n))}},{key:"swap_filter_inputs",value:function(e){e?(t("#filtering_input").css("flex-direction","row-reverse"),t("#create_tables_length").css({"margin-right":"0","margin-left":"auto"}),t("#create_tables_filter").css({"margin-left":"0","margin-right":"auto"})):(t("#filtering_input").css("flex-direction","row"),t("#create_tables_length").css({"margin-right":"auto","margin-left":"0"}),t("#create_tables_filter").css({"margin-left":"auto","margin-right":"0"}))}},{key:"swap_bottom_options",value:function(e){t("#bottom_options .pagination.menu");var n={flex_direction:"row-reverse",table_info_style:{margin_right:0,margin_left:"auto"},table_paginate_style:{margin_right:"auto",margin_left:0}};e||(n.flex_direction="row",n.table_info_style.margin_left=0,n.table_info_style.margin_right="auto",n.table_paginate_style.margin_left="auto",n.table_paginate_style.margin_right=0),this.bottom_option_style(n)}},{key:"overflow_menu_style",value:function(){t("#bottom_options").css("flex-direction","column"),t("#create_tables_info").css({margin:"5px auto"}),t("#create_tables_paginate").css({margin:"5px auto"})}},{key:"bottom_option_style",value:function(e){t("#bottom_options").css("flex-direction",e.flex_direction),t("#create_tables_info").css({"margin-left":e.table_info_style.margin_left,"margin-right":e.table_info_style.margin_right}),t("#create_tables_paginate").css({"margin-left":e.table_paginate_style.margin_left,"margin-right":e.table_paginate_style.margin_right})}},{key:"export_buttons_row_revealer",value:function(e){var t=this;e&&e.forEach((function(e){setTimeout((function(){t.export_button_revealer_by_other_input(e)}),300)}))}},{key:"export_button_revealer_by_other_input",value:function(e){t("."+e+"_btn").hasClass("hidden")&&t("."+e+"_btn").transition("scale")}},{key:"getSpreadsheetID",value:function(e){if(e&&""!=e)return e.split(/\//)[5]||null}},{key:"getGridID",value:function(e){if(e&&""!=e)return e.match(/gid=(\w+)/)[1]||null}},{key:"setPdfUrl",value:function(e){var n=this.getSpreadsheetID(e),a=this.getGridID(e),o="https://docs.google.com/spreadsheets/d/".concat(n,"/export?format=pdf&id=").concat(n,"&gid=").concat(a);t("#create_tables_wrapper .dt-buttons .pdf_btn").length||t("#create_tables_wrapper .dt-buttons").append('<a class="ui inverted red button transition hidden pdf_btn"\n                    href="'.concat(o,'"\n                    download>\n                    <span>\n                        PDF &nbsp;<img src="').concat(file_url.iconsURL.filePdf,'" />\n                    </span>\n                </a>'))}},{key:"table_object",value:function(e,n,a){var o={dom:n,order:[],responsive:!0,lengthMenu:[[1,5,10,15],[1,5,10,15]],pageLength:parseInt(a.defaultRowsPerPage),lengthChange:!0,ordering:a.allowSorting,destroy:!0,scrollX:!0};return this.isProPluginActive()&&(o.buttons=[{text:'JSON &nbsp;<img src="'.concat(file_url.iconsURL.curlyBrackets,'" />'),className:"ui inverted yellow button transition hidden json_btn",action:function(n,a,o,r){var i=a.buttons.exportData();t.fn.dataTable.fileSave(new Blob([JSON.stringify(i)]),"".concat(e,".json"))}},{text:'CSV &nbsp;<img src="'.concat(file_url.iconsURL.fileCSV,'" />'),extend:"csv",className:"ui inverted green button transition hidden csv_btn",title:"".concat(e)},{text:'Excel &nbsp;<img src="'.concat(file_url.iconsURL.fileExcel,'" />'),extend:"excel",className:"ui inverted green button transition hidden excel_btn",title:"".concat(e)},{text:'Print &nbsp;<img src="'.concat(file_url.iconsURL.printIcon,'" />'),extend:"print",className:"ui inverted secondary button transition hidden print_btn",title:"".concat(e)},{text:'Copy &nbsp;<img src="'.concat(file_url.iconsURL.copySolid,'" />'),extend:"copy",className:"ui inverted violet button transition hidden copy_btn",title:"".concat(e)}],o.lengthMenu=[[1,5,10,15,25,50,100,-1],[1,5,10,15,25,50,100,"All"]],"default"!=a.verticalScroll&&(o.scrollY="".concat(a.verticalScroll,"px")),"desktop"===this.screenSize()?a.hideColumn&&(o.columnDefs=this.hideColumnByScreen(a.hideColumn.desktopValues)):a.hideColumn&&(o.columnDefs=this.hideColumnByScreen(a.hideColumn.mobileValues))),o}},{key:"hideColumnByScreen",value:function(e){return[{targets:this.convertArrayStringToInteger(e),visible:!1,searchable:!1}]}},{key:"screenSize",value:function(){return screen.width>740?"desktop":"mobile"}},{key:"convertArrayStringToInteger",value:function(e){return e?e.map((function(e){return parseInt(e)})):[]}},{key:"reconfigure_input_fields",value:function(e){if(t("#show_title").prop("checked",e.table_title),t("#rows_per_page").dropdown("set selected","-1"==e.default_rows_per_page?"all":e.default_rows_per_page),t("#info_block").prop("checked",e.show_info_block),t("#show_entries").prop("checked",e.show_x_entries),t("#swap_filter_inputs").prop("checked",e.swap_filter_inputs),t("#swap_bottom_options").prop("checked",e.swap_bottom_options),t("#sorting").prop("checked",e.allow_sorting),t("#search_table").prop("checked",e.search_bar),this.isProPluginActive()){if(t("#responsive_style").dropdown("set selected",e.responsive_style),t("#vertical_scrolling").dropdown("set selected",e.vertical_scroll),"empty"!=e.table_export&&e.table_export&&e.table_export.forEach((function(e){t("#table_exporting_container").dropdown("set selected",e)})),t("#cell_format").dropdown("set selected",e.cell_format),t("#redirection_type").dropdown("set selected",e.redirection_type),t("#table_cache").prop("checked",e.table_cache),e.table_style){t("#table_style").val(e.table_style),t(".styleWrapper").find("label[for=".concat(e.table_style,"]")).addClass("active");var n={tableStyle:e.table_style,importStyles:e.import_styles};this.tableStyle(n)}e.hide_column&&(t("#hide_column").val(JSON.stringify(e.hide_column)),e.hide_column.desktopValues&&e.hide_column.desktopValues.forEach((function(e){t("#desktop-hide-columns").dropdown("set selected",e)})),e.hide_column.mobileValues&&e.hide_column.mobileValues.forEach((function(e){t("#mobile-hide-columns").dropdown("set selected",e)}))),e.hide_rows&&t("#hide_rows").val(JSON.stringify(e.hide_rows)),e.hide_cell&&t("#hide_cell").val(JSON.stringify(e.hide_cell)),t("#import_styles").prop("checked",e.import_styles)}}},{key:"tableStyle",value:function(e){if(file_url.tableStyles)for(var n in file_url.tableStyles)t("#spreadsheet_container").removeClass("gswpts_".concat(n));void 0!==e.importStyles&&1==e.importStyles?t("#spreadsheet_container").addClass("gswpts_default-style"):t("#spreadsheet_container").addClass("gswpts_".concat(e.tableStyle))}},{key:"changeCellFormat",value:function(e,n){var a=t("".concat(n," th, td"));switch(e){case"wrap":t.each(a,(function(e,n){t(n).removeClass("clip_style"),t(n).removeClass("expanded_style"),t(n).addClass("wrap_style")}));break;case"expand":t.each(a,(function(e,n){t(n).removeClass("clip_style"),t(n).removeClass("wrap_style"),t(n).addClass("expanded_style")}))}}},{key:"bindDragScroll",value:function(e,n){var a=t(window),o=0,r=0,i=0,s=0;function c(t){if(e.hasClass("down")){var a=t.pageX,r=(t.pageY,a-o);n[0].scrollLeft-=r,o=a}}function l(t){a.off("mousemove",c),a.off("mouseup",l);var o=Date.now()-s,u=t.pageX-r,d=t.pageY-i;o<=300&&n.stop().animate({scrollTop:"-="+3*d,scrollLeft:"-="+3*u},500,(function(e,t,n,a,o){return a*Math.sqrt(1-(t=t/o-1)*t)+n})),s=0,e.removeClass("down")}e.on("mousedown",(function(t){0===t.button&&(s=Date.now(),o=r=t.pageX,i=t.pageY,e.addClass("down"),a.on("mousemove",c),a.on("mouseup",l),t.preventDefault())})),e.on("click",(function(e){if(r!==e.pageX||i!==e.pageY)return e.preventDefault(),!1})),n.on("mousewheel",(function(e){e=e.originalEvent;var t=n.scrollLeft(),a=n[0].scrollWidth-n[0].offsetWidth,o=e.deltaX||e.wheelDeltaX;(o>0?t>=a:t<=0)&&o&&e.preventDefault()}))}},{key:"addGrabCursonOnMouseDown",value:function(e){e.mousedown((function(t){e.css({cursor:"grab"})})),e.mouseup((function(t){e.css({cursor:"auto"})}))}},{key:"addDraggingAbility",value:function(){if(this.isProPluginActive()){var e=t("#spreadsheet_container .dataTables_scroll"),n=t("#spreadsheet_container .dataTables_scrollBody");this.bindDragScroll(e,n),this.addGrabCursonOnMouseDown(t("#create_tables"))}}},{key:"insertColumnValueToInput",value:function(e){var n=t("#desktop-hide-columns"),a=t("#mobile-hide-columns");t.each([n,a],(function(n,a){var o=t(a).find(".menu");e&&e.forEach((function(e,t){file_url.isProActive?o.append('\n                            <div class="item" data-value="'.concat(t,'">\n                                ').concat(e||"&nbsp;","\n                            </div>\n                         ")):o.append('\n                            <div class="item pro_feature_input pro_column_select" data-value="'.concat(t,'">\n                                ').concat(e||"&nbsp;","\n                            </div>\n                        "))})),t(a).dropdown()}))}},{key:"insertHiddenRowsToSelectBox",value:function(e){var n=t("#hidden_rows"),a=n.find(".menu");e&&this.isProPluginActive()&&(a.find("[data-value=".concat(e,"]")).length||a.append('\n                        <div class="item" data-value="'.concat(e,'">\n                            Row ').concat(e?"#".concat(e):"&nbsp;","\n                        </div>\n                    ")),setTimeout((function(){n.dropdown("set selected",e)}),400))}},{key:"insertSelectedCellToSelectBox",value:function(e){var n=t("#hidden_cells"),a=n.find(".menu");if(e&&this.isProPluginActive()){var o=JSON.parse(e)[0],r=JSON.parse(e)[1];e=JSON.parse(e).join("-"),a.find("[data-value=".concat(e,"]")).length||(a.append('\n                        <div class="item" data-value="'.concat(e,'">\n                           Position: Col #').concat(o,", Row #").concat(r,"\n                        </div>\n                    ")),setTimeout((function(){n.dropdown("set selected",e)}),400))}}},{key:"insertHiddenRowsToInputBox",value:function(e){var n,a=[],o=t("#hide_rows");if(o.val()){a=JSON.parse(o.val());for(var r=!1,i=0;i<a.length;i++)if(a[i]==e){r=!0;break}0==r&&(a.push(e),n=JSON.stringify(a),o.val(n))}else a.push(e),n=JSON.stringify(a),o.val(n)}},{key:"insertHiddenCellToInputBox",value:function(e){var n,a=[],o=t("#hide_cell");if(o.val()){a=JSON.parse(o.val());for(var r=!1,i=0;i<a.length;i++)if(a[i]==e){r=!0;break}0==r&&(a.push(e),n=JSON.stringify(a),o.val(n))}else a.push(e),n=JSON.stringify(a),o.val(n)}},{key:"suiAlert",value:function(e){"info"==e.type?e.icon="announcement":"success"==e.type?e.icon="checkmark":"error"==e.type?e.icon="remove":"warning"==e.type&&(e.icon="warning circle");var n="drop";"top-right"==e.position?n="fly left":"top-center"==e.position?n="fly down":"top-left"==e.position?n="fly right":"bottom-right"==e.position?n="fly left":"bottom-center"==e.position?n="fly up":"bottom-left"==e.position&&(n="fly right");var a="";t(window).width()<425&&(a="mini");var o="ui-alerts."+e.position;t("body > ."+o).length||t("body").append('<div class="ui-alerts '+e.position+'"></div>');var r=t('<div class="ui icon floating '+a+" message "+e.type+'" id="alert"> <i class="'+e.icon+' icon"></i> <i class="close icon" id="alertclose"></i> <div class="content"> <div class="header">'+e.title+"</div> <p>"+e.description+"</p> </div> </div>");t("."+o).prepend(r),r.transition("pulse"),t("#alertclose").on("click",(function(){t(this).closest("#alert").transition({animation:n,onComplete:function(){r.remove()}})}));var i=0;function s(){i=setTimeout((function(){r.transition({animation:n,duration:"2s",onComplete:function(){r.remove()}})}),1e3*e.time)}t(r).mouseenter((function(){clearTimeout(i)})).mouseleave((function(){s()})),s()}}],o&&e(a.prototype,o),Object.defineProperty(a,"prototype",{writable:!1}),n}();function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function d(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function h(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function w(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function S(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function C(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function j(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function R(e,t){return R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},R(e,t)}function B(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function N(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function D(e,t){return D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},D(e,t)}function I(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function J(e){return J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},J(e)}function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function L(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function M(e,t){return M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},M(e,t)}function U(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function W(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function H(e,t){return H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},H(e,t)}function X(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Q(e){return Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Q(e)}jQuery(document).ready((function(e){new(function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}(d,t);var n,a,c,l,u=(c=d,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(c);if(l){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return i(this,e)});function d(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=u.call(this,e)).sortcode_copy_btn=e(".dashboard_sortcode_copy_btn"),t.form=e("#subscriber-form"),t.events(),t}return n=d,(a=[{key:"events",value:function(){var e=this;this.sortcode_copy_btn.on("click",(function(t){e.copy_shorcode(t)})),"gswpts-recommendation"==this.get_slug_parameter("page")&&this.retrieve_other_products()}},{key:"retrieve_other_products",value:function(){var t=this,n=e(".gswpts_dashboard_container").data("nonce");e.ajax({url:file_url.admin_ajax,data:{action:"gswpts_product_fetch",nonce:n},type:"post",beforeSend:function(){e(".other_products_section").html('\n                            <div class="ui segment gswpts_loader" style="width: 100%;">\n                                    <div class="ui active inverted dimmer">\n                                        <div class="ui massive text loader"></div>\n                                    </div>\n                                    <p></p>\n                                    <p></p>\n                                    <p></p>\n                            </div>\n                    ')},success:function(t){e(".other_products_section").html(t)},error:function(n){e(".other_products_section").html(""),t.call_alert("Error &#128683;","<b>Something went wrong on fetching related products</b>","error",3)}})}}])&&o(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),d}(n))})),jQuery(document).ready((function(e){new(function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(s,t);var n,a,o,r,i=(o=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(o);if(r){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function s(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).sheet_url="",t.fileInput=e("#file_input"),"create-table"==t.get_slug_parameter("subpage")&&t.events(),t}return n=s,(a=[{key:"events",value:function(){var t=this;this.initDropdownSelect(),this.fileInput.on("input",(function(e){t.show_fetch_btn(e)})),e(document).on("click",".fetch_save_btn",(function(e){t.handle_submit(e)})),e(document).on("click","#sortcode_copy",(function(e){t.copy_shorcode(e)})),e(document).on("click","#create_button",(function(e){t.clear_fields()})),e(document).on("click",".next-setting",(function(e){t.goToNextSetting(e)})),e(".edit_table_name").on("click",(function(e){t.edit_table_name(e)}))}},{key:"initDropdownSelect",value:function(){e("#table_type").length&&e("#table_type").dropdown(),e("#rows_per_page").length&&e("#rows_per_page").dropdown("set selected","10"),e("#vertical_scrolling").length&&e("#vertical_scrolling").dropdown(),e("#cell_format").length&&e("#cell_format").dropdown(),e("#redirection_type").length&&e("#redirection_type").dropdown(),e("#responsive_style").length&&e("#responsive_style").dropdown("set selected","collapse_style"),e("#table_type").find("input[name=source_type]").val("spreadsheet")}},{key:"edit_table_name",value:function(t){e(t.currentTarget).siblings("input").select()}},{key:"show_fetch_btn",value:function(t){e(".fetch_save_btn").hasClass("hidden")&&e(".fetch_save_btn").transition("scale")}},{key:"handle_submit",value:function(t){var n=this;t.preventDefault();var a=e(t.currentTarget),o=e("#table_name").val(),r=this.sheet_form.serialize(),i=a.data("nonce");""!==this.sheet_form.find("input[name=file_input]").val()?e.ajax({url:file_url.admin_ajax,data:{action:"gswpts_sheet_create",nonce:i,form_data:r,table_name:o,table_settings:JSON.stringify(this.table_settings_obj()),id:this.get_slug_parameter("id"),type:a.attr("req-type")},type:"post",beforeSend:function(){if("fetch"===a.attr("req-type"))n.btn_changer(a,'\n                            Fetching Data &nbsp;\n                            <div class="ui active mini inline loader"></div>\n                        ',"fetch"),n.sheet_container.html(n.html_loader);else{var e='\n                                Saving Table &nbsp;\n                                <div class="ui active mini inline loader"></div>\n                            ';"save_changes"==a.attr("req-type")&&(e='\n                                Saving Changes &nbsp;\n                                <div class="ui active mini inline loader"></div>\n                            '),n.btn_changer(a,e,"save")}},success:function(t){if("success"===t.data.type&&(e(".tables_settings").attr("data-btn-text","Save Table"),e(".tables_settings").attr("data-attr-text","save"),e(".disabled_checkbox").removeClass("disabled_checkbox"),e(".secondary_inputs").attr("disabled",!1),n.sheet_details.transition("scale"),n.sheet_container.parent().removeClass("mt-4").addClass("mt-3"),n.sheet_container.html(t.data.table),n.insertColumnValueToInput(t.data.tableColumns)),"saved"===t.data.type){n.btn_changer(a,"Table Saved","saved"),n.sheet_details.addClass("mt-4 p-0"),n.sheet_details.html(n.sheet_details_html(t)),n.call_alert("Successfull &#128077;",t.data.output,"success",3);var o=Object.values(t.data.id)[0];n.show_shortcode(o),n.sheet_url=t.data.sheet_url,e("#create_button").addClass("visible"),n.push_parameter(o),e("#gswpts_tabs ul li").addClass("tables_settings"),setTimeout((function(){window.location.href=file_url.dasboardURL}),800)}"updated"==t.data.type&&(n.btn_changer(a,"\n                                Save Changes &nbsp; <i class='fas fa-save'></i>\n                            ","save_changes"),n.call_alert("Successfull &#128077;",t.data.output,"success",3)),"sheet_exists"==t.data.type&&(n.call_alert("Warning &#9888;&#65039;",t.data.output,"warning",3),n.btn_changer(a,"Save Table &nbsp;<i class='fas fa-save'></i>","save"))},complete:function(t){if("success"===JSON.parse(t.responseText).data.type){var o=n.default_settings(),r=e("#table_name").val(),i=(o.defaultRowsPerPage,o.allowSorting,'<"#filtering_input"lf>rt<"#bottom_options"ip>');n.isProPluginActive()&&(i='B<"#filtering_input"lf>rt<"#bottom_options"ip>'),e("#create_tables").DataTable(n.table_object(r,i,o)),n.addDraggingAbility(),n.changeBtnOnCondition(a),a.css({backgroundColor:"#f2711c"}),n.setPdfUrl(e("#file_input").val()),setTimeout((function(){n.call_alert("Successfull &#128077;","<b>Google Sheet data fetched successfully</b>","success",3),n.isProPluginActive()||n.call_alert("Warning &#9888;&#65039;","<b>Live sync is limited to 50 rows.<br/><a target='blank' href='https://go.wppool.dev/DoC'>Upgrade to Pro</a> for showing full google sheet.</b>","warning",10)}),700)}"private_sheet"===JSON.parse(t.responseText).data.type&&(n.call_alert("Error &#128683;",JSON.parse(t.responseText).data.message,"error",3),n.btn_changer(a,"Fetch Data","fetch"),n.sheet_container.html(""))},error:function(e){n.call_alert("Error &#128683;","<b>Something went wrong</b>","error",3),n.btn_changer(a,"Fetch Data","fetch"),n.sheet_container.html("")}}):this.call_alert("Warning &#9888;&#65039;","<b>Form field is empty. Please fill out the field</b>","warning",3)}},{key:"changeBtnOnCondition",value:function(t){this.get_slug_parameter("id")?this.btn_changer(t,"Save Table","save"):(this.btn_changer(t,"Next&nbsp;<i class='fas fa-angle-double-right'></i>","next"),t.css({backgroundColor:"#f2711c"}),t.removeClass("fetch_save_btn"),t.addClass("next-setting"),e(".bottom_next_btn .next-setting").transition("scale"))}},{key:"goToNextSetting",value:function(t){var n=e(t.currentTarget),a=e(".next-setting"),o=e("#gswpts_tabs .tabs > input:checked");"tab3"==o.attr("id")?(o.prop("checked",!1),o.next().prop("checked",!0),this.btn_changer(a,"Save & Use Table &nbsp;<i class='fas fa-save'></i>","save"),a.css({backgroundColor:"#6435c9"}),a.removeClass("next-setting"),a.addClass("fetch_save_btn")):(o.prop("checked",!1),o.next().prop("checked",!0)),n.hasClass("bottom_btn")&&window.scrollTo({top:0,left:0,behavior:"smooth"})}},{key:"copy_shorcode",value:function(t){var n=e(t.currentTarget).siblings("input");n.focus(),n.select(),document.execCommand("copy"),this.call_alert("Copied &#128077;","Sortcode copied successfully","info",2)}},{key:"clear_fields",value:function(){var t=this;this.sheet_form.find("input[name=file_input]").val(""),e(".edit_table_name").attr("disabled",!1),e("#table_name").val("GSWPTS Table"),e("#table_name").attr("disabled",!1),e("#tab1").prop("checked",!0),e("#gswpts_tabs ul li:not(:nth-child(1))").addClass("disabled_checkbox"),e(".tables_settings").unbind("click"),e(".secondary_inputs").attr("disabled",!0),e("#sheet_ui_card").transition("scale"),e("#create_tables_wrapper").transition("scale"),this.btn_changer(e(".fetch_save_btn"),"Fetch Data","fetch"),this.deleteParameter(),e(".input_fields > div:nth-child(2)").removeClass("hide-column"),e(".input_fields > div:nth-child(2) > div").removeClass("hidden"),e(".input_fields > div:nth-child(3)").removeClass("col-md-9").addClass("col-md-6"),setTimeout((function(){t.sheet_details.transition("scale"),e("#sheet_ui_card").remove(),e("#create_tables_wrapper").remove()}),300),e(".dt-buttons .pdf_btn").transition("scale")}},{key:"push_parameter",value:function(e){var t=new URL(window.location);t.searchParams.set("id",e),window.history.pushState({},"",t)}},{key:"deleteParameter",value:function(){var e=new URL(window.location);e.searchParams.set("id",""),window.history.pushState({},"",e)}}])&&l(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),s}(n))})),jQuery(document).ready((function(e){new(function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(s,t);var n,a,o,r,i=(o=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(o);if(r){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function s(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).events(),t}return n=s,(a=[{key:"events",value:function(){this.fetch_data_by_id()}},{key:"fetch_data_by_id",value:function(){var t=this;if(this.get_slug_parameter("id")&&"create-table"===this.get_slug_parameter("subpage")){var n=e("#gswpts_sheet_nonce").val();e.ajax({url:file_url.admin_ajax,data:{action:"gswpts_sheet_fetch",id:this.get_slug_parameter("id"),nonce:n},type:"post",beforeSend:function(){e("#tab1").prop("checked",!0),e("#gswpts_tabs ul li:not(:nth-child(1))").addClass("disabled_checkbox")},success:function(n){"invalid_action"!==n.data.type&&"invalid_request"!==n.data.type||(t.sheet_container.html(""),t.call_alert("Error &#128683;",n.data.output,"error",4)),"success"===n.data.type&&(t.sheet_details.addClass("mt-4 p-0"),e("#gswpts_tabs ul li:not(:nth-child(1))").removeClass("disabled_checkbox"),setTimeout((function(){e(".edit_table_name").siblings("input[name=table_name]").val(n.data.table_name),e(".edit_table_name").parent().transition("fade up"),e("#table_type").dropdown("set selected",n.data.table_data.source_type),t.sheet_form.find("input[name=file_input]").val(n.data.table_data.source_url),t.sheet_details.html(t.sheet_details_html(n.data)),t.sheet_details.transition("scale"),t.show_shortcode(t.get_slug_parameter("id"))}),400),t.sheet_container.html(n.data.output),t.insertColumnValueToInput(n.data.tableColumns))},error:function(e){t.call_alert("Error &#128683;","<b>Something went wrong</b>","error",3),t.sheet_container.html("")},complete:function(n){if("success"===JSON.parse(n.responseText).data.type){var a=JSON.parse(n.responseText).data.table_data.table_settings,o=JSON.parse(n.responseText).data.table_data.table_name,r='<"#filtering_input"'.concat(a.show_x_entries?"l":"").concat(a.search_bar?"f":"",'>rt<"#bottom_options"').concat(a.show_info_block?"i":"","p>");t.isProPluginActive()&&(r='B<"#filtering_input"'.concat(a.show_x_entries?"l":"").concat(a.search_bar?"f":"",'>rt<"#bottom_options"').concat(a.show_info_block?"i":"","p>"));var i=!!a.swap_filter_inputs,s=!!a.swap_bottom_options;t.reconfigure_input_fields(JSON.parse(n.responseText).data.table_data.table_settings),setTimeout((function(){var c={allowSorting:a.allow_sorting,cellFormat:a.cell_format||"",defaultRowsPerPage:a.default_rows_per_page||"",hideColumn:a.hide_column||"",redirectionType:a.redirection_type||"",responsiveStyle:a.responsive_style||"",searchBar:a.search_bar,showInfoBlock:a.show_info_block,showXEntries:a.show_x_entries,swapBottomOptions:a.swap_bottom_options,swapFilterInputs:a.swap_filter_inputs,tableCache:a.table_cache,tableExport:a.table_export||"",tableStyle:a.table_style||"",table_title:a.table_title,verticalScroll:a.vertical_scroll||"",hideRows:a.hide_rows||"",hideCell:a.hide_cell||"",importStyles:a.import_styles};e("#create_tables").DataTable(t.table_object(o,r,c)),t.addDraggingAbility(),t.swap_filter_inputs(i),t.swap_bottom_options(s),t.manageHiddenRows(c.hideRows),t.manageHiddenCells(c.hideCell),"empty"!=a.table_export&&t.export_buttons_row_revealer(a.table_export),t.show_fetch_btn(),t.call_alert("Successfull &#128077;","<b>Google Sheet data fetched successfully</b>","success",3),t.isProPluginActive()||t.call_alert("Warning &#9888;&#65039;","<b>Live sync is limited to 50 rows.<br/><a target='blank' href='https://go.wppool.dev/DoC'>Upgrade to Pro</a> for showing full google sheet.</b>","warning",10),t.setPdfUrl(JSON.parse(n.responseText).data.table_data.source_url)}),200)}}})}}},{key:"show_fetch_btn",value:function(){e(".fetch_save_btn").hasClass("hidden")&&e(".fetch_save_btn").transition("scale")}},{key:"manageHiddenRows",value:function(e){var t=this;if(this.isProPluginActive()){if(!e)return;e.forEach((function(e){t.insertHiddenRowsToSelectBox(e)}))}}},{key:"manageHiddenCells",value:function(e){var t=this;if(this.isProPluginActive()){if(!e)return;e.forEach((function(e){t.insertSelectedCellToSelectBox(e)}))}}}])&&f(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),s}(n))})),jQuery(document).ready((function(e){new(function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(s,t);var n,a,o,r,i=(o=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(o);if(r){var n=k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return w(this,e)});function s(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).table_container=e("#gswpts_tables_container"),t.nonce=t.table_container.data("nonce"),t.unSelectBtn=e("#unselect_btn"),t.checkbox_switcher=!1,t.events(),t}return n=s,(a=[{key:"events",value:function(){var t=this;this.fetch_data_by_page(),e(document).on("click",".gswpts_sortcode_copy",(function(e){t.copy_shorcode(e),t.higlightSortcodeText(e)})),e(document).on("click","#manage_tables_checkbox",(function(e){t.toggle_content(e)})),this.unSelectBtn.on("click",(function(e){t.clearSelection()}))}},{key:"higlightSortcodeText",value:function(t){var n=e(t.currentTarget)[0];if(document.body.createTextRange){var a=document.body.createTextRange();a.moveToElementText(n),a.select()}else if(window.getSelection){var o=window.getSelection(),r=document.createRange();r.selectNodeContents(n),o.removeAllRanges(),o.addRange(r)}else console.warn("Could not select text in node: Unsupported browser.")}},{key:"fetch_data_by_page",value:function(){var t=this;this.get_slug_parameter("page")&&"gswpts-dashboard"===this.get_slug_parameter("page")&&"create-table"!=this.get_slug_parameter("subpage")&&e.ajax({url:file_url.admin_ajax,data:{action:"gswpts_table_fetch",page_slug:this.get_slug_parameter("page"),nonce:this.nonce},type:"post",success:function(e){t.table_container.html(e.data.output)},error:function(e){t.call_alert("Error &#128683;","<b>Something went wrong</b>","error",3)},complete:function(n){var a,o=n.responseText;e(".create_table_btn").transition("show"),JSON.parse(o).success&&(e("#manage_tables").DataTable({columnDefs:[{targets:[0,5],orderable:!1}],bInfo:!1,order:[]}),null!==(a=JSON.parse(o).data)&&void 0!==a&&a.no_data?t.call_alert("Warning &#9888;&#65039;","<b>No tables found. Create a new</b>","warning",3):t.call_alert("Successfull &#128077;","<b>All Tables Fetched Successfully</b>","success",3))}})}},{key:"toggle_content",value:function(t){"false"==e(t.currentTarget).attr("data-show")&&(e("#delete_button").transition("scale"),e("#unselect_btn").transition("scale"),this.check_all_checkbox(),this.checkbox_switcher=!0),"true"==e(t.currentTarget).attr("data-show")&&(e("#delete_button").transition("scale"),e("#unselect_btn").transition("scale"),this.uncheck_all_checkbox(),this.checkbox_switcher=!1),e(t.currentTarget).attr("data-show",""+this.checkbox_switcher)}},{key:"check_all_checkbox",value:function(){e(".manage_tables_checkbox").prop("checked",!0)}},{key:"uncheck_all_checkbox",value:function(){e(".manage_tables_checkbox").prop("checked",!1)}},{key:"clearSelection",value:function(t){e("#manage_tables_checkbox").prop("checked",!1),e("#manage_tables_checkbox").attr("data-show",!1),e("#delete_button").transition("scale"),e("#unselect_btn").transition("scale"),this.uncheck_all_checkbox(),this.checkbox_switcher=!1}}])&&g(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),s}(n))})),jQuery(document).ready((function(e){new(function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(s,t);var n,a,o,r,i=(o=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(o);if(r){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return C(this,e)});function s(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).deleteBtn=e("#delete_button, #tab_delete_button"),t.dataActionType=null,t.events(),t}return n=s,(a=[{key:"events",value:function(){var t=this;e(document).on("click",".gswpts_edit_table, .gswpts_edit_tab",(function(e){t.editName(e)})),e(document).on("click",".table_name_save, .tab_name_save",(function(e){t.updateName(e),t.edit_tag_value(e)})),e(document).on("click",".semntic-popup-modal .actions > .yes-btn",(function(n){var a=e(n.currentTarget).attr("data-id");a&&t.deleteData(a)})),e(document).on("click",".gswpts_table_delete_btn, .gswpts_tab_delete_btn",(function(n){var a=e(n.currentTarget).attr("data-id");t.initiatePopup({deleteAll:!1,id:a,contentText:"Are you sure you want to delete your this?"},n)})),this.deleteBtn.on("click",(function(e){t.initiatePopup({deleteAll:!0,contentText:"Are you sure you want to delete your selected data?"},e)}))}},{key:"initiatePopup",value:function(t,n){var a=this,o=e(".semntic-popup-modal");o.modal("show"),o.find(".gswpts_popup_content").text(t.contentText),0==t.deleteAll&&e(".semntic-popup-modal .actions > .yes-btn").attr("data-id",t.id),e(n.currentTarget).hasClass("gswpts_table_delete_btn")&&(this.dataActionType="gswpts_ud_table"),e(n.currentTarget).hasClass("gswpts_tab_delete_btn")&&(this.dataActionType="gswpts_ud_tab"),document.querySelector(".semntic-popup-modal .actions > .yes-btn").addEventListener("click",(function(){t.deleteAll&&a.delete_all_table(n)}))}},{key:"updateName",value:function(t){var n="Name";e(t.currentTarget).hasClass("table_name_save")&&(n=e(t.currentTarget).parent().parent().find(".table_name_hidden_input").val(),this.dataActionType="gswpts_ud_table"),e(t.currentTarget).hasClass("tab_name_save")&&(n=e(t.currentTarget).parent().parent().find(".tab_name_hidden_input").val(),this.dataActionType="gswpts_ud_tab");var a={reqType:"update",id:e(t.currentTarget).attr("id"),name:n,dataActionType:this.dataActionType};this.ajax_request(a)}},{key:"deleteData",value:function(e){var t={reqType:"delete",id:e,dataActionType:this.dataActionType};this.ajax_request(t)}},{key:"delete_all_table",value:function(t){var n=null;"delete_button"==e(t.currentTarget).attr("id")&&(n=e("input[name='manage_tables_checkbox']:checked"),this.dataActionType="gswpts_ud_table"),"tab_delete_button"==e(t.currentTarget).attr("id")&&(n=e("input[name='manage_tab_checkbox']:checked"),this.dataActionType="gswpts_ud_tab");var a={reqType:"deleteAll",dataActionType:this.dataActionType},o=[];e.each(n,(function(t,n){o.push(e(n).val())})),a.ids=o,a.ids.length>0?this.ajax_request(a):this.call_alert("Warning &#9888;&#65039;","<b>No table is selected to delete</b>","warning",3)}},{key:"ajax_request",value:function(t){var n,a=this,o=null;"gswpts_ud_table"!=t.dataActionType||"delete"!=t.reqType&&"deleteAll"!=t.reqType||(n=e("#table-".concat(t.id))),"gswpts_ud_table"==t.dataActionType&&"update"==t.reqType&&(n=e("#".concat(t.id))),"gswpts_ud_tab"!=t.dataActionType||"delete"!=t.reqType&&"deleteAll"!=t.reqType||(n=e("#tab-".concat(t.id))),"gswpts_ud_tab"==t.dataActionType&&"update"==t.reqType&&(n=e("#".concat(t.id))),"gswpts_ud_table"==t.dataActionType&&(o="gswpts_ud_table"),"gswpts_ud_tab"==t.dataActionType&&(o="gswpts_ud_tab"),n.hasClass("table_name_save")&&(o="gswpts_ud_table"),n.hasClass("tab_name_save")&&(o="gswpts_ud_tab");var r=e("#gswpts_tables_container").data("nonce")||e("#swptls-manage-tabs-container").data("nonce");e.ajax({url:file_url.admin_ajax,data:{action:o,data:t,nonce:r},type:"post",beforeSend:function(){"update"==t.reqType&&n.html('\n                        <div class="ui active mini inline loader"></div>\n                    '),"delete"==t.reqType&&n.html('\n                        Deleting &nbsp;\n                        <div class="ui active mini inline loader"></div>\n                    '),"deleteAll"==t.reqType&&n.html('\n                        Deleting &nbsp;\n                        <div class="ui active mini inline loader"></div>\n                    ')},success:function(e){"invalid_action"!=e.data.type&&"invalid_request"!=e.data.type||a.call_alert("Error &#128683;",e.data.output,"error",4),"updated"==e.data.type&&(n.html('\n                            <img src="'.concat(file_url.renameIcon,'" width="24px" height="15px" alt="rename-icon"/>\n                        ')),a.call_alert("Successfull &#128077;",e.data.output,"success",3)),"deleted"==e.data.type&&(n.html("Deleted"),n.parent().parent().transition("fade"),a.call_alert("Successfull &#128077;",e.data.output,"success",3)),"deleted_All"==e.data.type&&(a.remove_seleted_tables(),n.html("Delete Selected"),a.call_alert("Successfull &#128077;",e.data.output,"success",3))},error:function(e){a.call_alert("Error &#128683;","<b>Something went wrong</b>","error",3)}})}},{key:"remove_seleted_tables",value:function(){var t=null;"gswpts_ud_table"===this.dataActionType&&(t=e("input[name='manage_tables_checkbox']:checked")),"gswpts_ud_tab"===this.dataActionType&&(t=e("input[name='manage_tab_checkbox']:checked")),e.each(t,(function(t,n){e(n).parent().parent().transition("fade")})),setTimeout((function(){e.each(t,(function(t,n){e(n).parent().parent().remove()}))}),300)}},{key:"editName",value:function(t){var n=e(t.currentTarget);n.hasClass("gswpts_edit_tab")&&n.addClass("tab_name_save"),n.hasClass("gswpts_edit_table")&&n.addClass("table_name_save"),n.html('\n                <i class="save icon"></i>\n            '),n.siblings("a").css({display:"none"}),n.parent().find(".ui.input").addClass("active")}},{key:"edit_tag_value",value:function(t){var n=e(t.currentTarget);n.hasClass("gswpts_edit_tab")?n.removeClass("tab_name_save"):n.removeClass("table_name_save");var a=n.siblings("a");a.css({display:"unset"});var o=n.parent().find(".ui.input");a.text(o.find("input").val()),o.removeClass("active")}},{key:"clearSelection",value:function(t){e(".manage_tables_checkbox").prop("checked",!1)}}])&&S(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),s}(n))})),jQuery(document).ready((function(e){new(function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(s,t);var n,a,o,r,i=(o=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A(o);if(r){var n=A(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return B(this,e)});function s(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).promo_close_btn=e(".promo_close_btn"),t.proInputSelect=e(".pro_input_select"),t.modalHandler=e(".modal-handler").parents(".card"),t.tableStyleActionBtn=e(".styleModal .svg_icons, .styleModal .actions > .button"),t.tableStylesInput=e(".styleModal .body input"),t.hideColumnActionBtns=e(".hide-column-modal-wrapper .gswpts-hide-modal .svg_icons, .hide-column-modal-wrapper .gswpts-hide-modal .actions > .button"),t.hideRowsActionBtns=e(".hide-rows-modal-wrapper .gswpts-hide-modal .svg_icons, .hide-rows-modal-wrapper .gswpts-hide-modal .actions > .button"),t.hideCellsActionBtns=e(".hide-cell-modal-wrapper .gswpts-hide-modal .svg_icons, .hide-cell-modal-wrapper .gswpts-hide-modal .actions > .button"),t.hideRowsActivator=e("#active_hide_rows"),t.hideCellActivator=e("#active_hidden_cells"),t.hiddenRowsInput=e("#hidden_rows"),t.hiddenCellInput=e("#hidden_cells"),t.events(),t}return n=s,(a=[{key:"events",value:function(){var t=this;e(document).on("click",".tables_settings",(function(e){t.change_btn_text(e)})),e(document).on("click","#gswpts_tabs .tabs > input",(function(e){t.changeBtnOnCondition(e)})),this.add_select_box_style(),this.settings_field.on("change",(function(e){t.update_table_by_changes(e)})),e(document).on("click",".pro_feature_input",(function(e){t.pro_feature_popup(e)})),this.proInputSelect.on("click",(function(e){t.revertBacktoInitialValue(e)})),this.promo_close_btn.on("click",(function(e){t.close_promo_popup(e)})),this.modalHandler.on("click",(function(n){var a=e(n.currentTarget).find("input");if("table_style"===a.attr("id")){var o=e(".tableStyleModal"),r=e(".styleModal");t.handleModal(o,r)}if("hide_column"===a.attr("id")){var i=e(".hide-column-modal-wrapper"),s=e(".hide-column-modal-wrapper .gswpts-hide-modal");t.handleModal(i,s)}if("hide_rows"===a.attr("id")){var c=e(".hide-rows-modal-wrapper"),l=e(".hide-rows-modal-wrapper .gswpts-hide-modal");t.handleModal(c,l)}if("hide_cell"===a.attr("id")){var u=e(".hide-cell-modal-wrapper"),d=e(".hide-cell-modal-wrapper .gswpts-hide-modal");t.handleModal(u,d)}})),this.tableStyleActionBtn.on("click",(function(n){var a=e(n.currentTarget);if(e(".tableStyleModal").removeClass("active"),e(".styleModal").transition("scale"),t.isProPluginActive()&&a.hasClass("selectBtn")){var o=e(".styleModal .body label.active input");e("#table_style").val(o.val());var r={tableStyle:o.val(),importStyles:e("#import_styles").prop("checked")};t.tableStyle(r)}})),this.tableStylesInput.on("click",(function(t){var n=e(t.currentTarget);e(".styleModal .body label").removeClass("active"),n.parent().toggleClass("active"),e(".styleModal .body label .pro_feature_promo").removeClass("active"),n.parent().find(".pro_feature_promo").addClass("active")})),this.hideColumnActionBtns.on("click",(function(e){t.hideColumnActionCallback(e)})),this.hideRowsActionBtns.on("click",(function(e){t.hideRowsActionCallback(e)})),this.hideCellsActionBtns.on("click",(function(e){t.hideCellActionCallback(e)})),this.hideCellActivator.click("click",(function(e){t.hideCellActionCallback(e)})),e("#redirection_type > input:nth-child(1)").on("change",(function(e){t.update_table_by_changes(e)})),this.hideRowsActivator.on("click",(function(e){t.hideRowsActionCallback(e)})),this.hiddenRowsInput.on("click",(function(e){t.handleRowsVisibility(e)})),this.hiddenCellInput.on("click",(function(e){t.handleCellVisibility(e)})),e(document).on("click",".ui.stackable.pagination.menu .paginate_button",(function(e){t.showTableRows(e),t.showTableCells(e)}))}},{key:"changeBtnOnCondition",value:function(t){this.get_slug_parameter("id")||"tab4"==e(t.currentTarget).attr("id")&&this.btnAttAndTextChanger({selector:"next-setting",btnText:"Save & Use Table &nbsp;<i class='fas fa-save'></i>",btnAttribute:"save",btnBackgroundColor:"#6435c9",btnClass:"fetch_save_btn"})}},{key:"btnAttAndTextChanger",value:function(t){var n=e(".".concat(t.selector));this.btn_changer(n,t.btnText,t.btnAttribute),n.css({backgroundColor:t.btnBackgroundColor}),n.removeClass(t.selector),n.addClass(t.btnClass)}},{key:"change_btn_text",value:function(t){var n=e(t.currentTarget).attr("data-btn-text"),a=e(t.currentTarget).attr("data-attr-text");e(".fetch_save_btn").html(n+" &nbsp; <i class='fas fa-save'></i>"),e(".fetch_save_btn").attr("req-type",a)}},{key:"add_select_box_style",value:function(){e("#rows_per_page").length&&e("#rows_per_page").dropdown(),e("#table_exporting_container").length&&e("#table_exporting_container").dropdown()}},{key:"update_table_by_changes",value:function(t){var n=this,a=this.table_settings_obj(),o=e(t.currentTarget).attr("id");if("table_exporting"==o&&this.isProPluginActive()&&["json","pdf","csv","excel","print","copy"].forEach((function(e){n.button_reavealer(t,e)})),"show_title"!=o&&"responsive_style"!=o&&"search_table"!=o&&"rows_per_page"!=o&&"sorting"!=o&&"show_entries"!=o&&"info_block"!=o&&"vertical_scrolling"!=o&&"cell_format"!=o||(this.isProPluginActive()&&(this.export_buttons_row_revealer(a.tableExport),this.changeCellFormat(a.cellFormat,"#spreadsheet_container")),this.reFormatTable(),this.swap_filter_inputs(a.swapFilterInputs),this.swap_bottom_options(a.swapBottomOptions)),"swap_filter_inputs"==o&&this.swap_filter_inputs(e(t.currentTarget).prop("checked")),"swap_bottom_options"==o&&this.swap_bottom_options(e(t.currentTarget).prop("checked")),this.isProPluginActive()&&"redirection_type"==e(t.currentTarget).attr("name")&&this.changeRedirectionType(a.redirectionType),this.addDraggingAbility(),"import_styles"==o){var r;r=e("#import_styles").prop("checked")?{tableStyle:"default-style",importStyles:e("#import_styles").prop("checked")}:{tableStyle:e("#table_style").val(),importStyles:e("#import_styles").prop("checked")},this.tableStyle(r)}}},{key:"reFormatTable",value:function(){var t=this.table_settings_obj(),n='<"#filtering_input"'.concat(t.showXEntries?"l":"").concat(t.searchBar?"f":"",'>rt<"#bottom_options"').concat(t.showInfoBlock?"i":"","p>");this.isProPluginActive()&&(n='B<"#filtering_input"'.concat(t.showXEntries?"l":"").concat(t.searchBar?"f":"",'>rt<"#bottom_options"').concat(t.showInfoBlock?"i":"","p>"));var a=e("#table_name").val();this.table_changer(a,t,n)}},{key:"changeRedirectionType",value:function(t){var n=e("#create_tables a");n.length&&e.each(n,(function(n,a){e(a).attr("target",t)}))}},{key:"button_reavealer",value:function(t,n){if(e(t.currentTarget).val().includes(n)){if(e("."+n+"_btn").hasClass("hidden"))return void e("."+n+"_btn").transition("scale")}else if(e("."+n+"_btn").hasClass("visible"))return void e("."+n+"_btn").transition("scale")}},{key:"pro_feature_popup",value:function(t){e(t.currentTarget).prop("checked",!1),WPPOOL.Popup("sheets_to_wp_table_live_sync").show()}},{key:"close_promo_popup",value:function(t){e(t.currentTarget).parents(".card").find(".pro_feature_promo").removeClass("active"),WPPOOL.Popup("sheets_to_wp_table_live_sync").hide()}},{key:"revertBacktoInitialValue",value:function(t){var n=e(t.currentTarget).parents(".selection.dropdown"),a=n.find("input").val(),o=n.find(".text").text();setTimeout((function(){a?n.dropdown("set selected",a):(n.find("input").val(""),n.find(".text").addClass("default").html(o),n.dropdown())}),200)}},{key:"handleModal",value:function(t,n){t.addClass("active"),n.transition("scale"),n.css({"margin-top":"".concat(e(document).scrollTop()+100,"px")})}},{key:"hideColumnActionCallback",value:function(t){var n=e(t.currentTarget);if(e(".hide-column-modal-wrapper").removeClass("active"),e(".hide-column-modal-wrapper .gswpts-hide-modal").transition("scale"),this.isProPluginActive()&&n.hasClass("selectBtn")){var a=e("#desktop-hide-columns"),o=e("#mobile-hide-columns"),r={desktopValues:a.find("input").val()?a.find("input").val().split(","):null,mobileValues:o.find("input").val()?o.find("input").val().split(","):null};e("#hide_column").val(JSON.stringify(r)),this.reFormatTable(),this.addDraggingAbility()}}},{key:"hideRowsActionCallback",value:function(t){var n=this,a=e(t.currentTarget);if(e(".hide-rows-modal-wrapper").removeClass("active"),e(".hide-rows-modal-wrapper .gswpts-hide-modal").transition("scale"),this.isProPluginActive()&&a.hasClass("selectBtn")){var o=e(".dataTables_scrollBody table tbody");a.prop("checked")?(e("#active_hidden_cells").prop("checked",!1),o.addClass("hiding_active"),e(document).on("click",".dataTables_scrollBody table tr",(function(t){if(e("#active_hide_rows").prop("checked")){t.stopPropagation(),e(".dataTables_scrollBody table tr > td").unbind("click");var a=e(t.currentTarget),o=a.attr("data-index");n.insertHiddenRowsToSelectBox(o),n.insertHiddenRowsToInputBox(o),a.hide(300)}}))):o.removeClass("hiding_active")}}},{key:"hideCellActionCallback",value:function(t){var n=this,a=e(t.currentTarget);if(e(".hide-cell-modal-wrapper").removeClass("active"),e(".hide-cell-modal-wrapper .gswpts-hide-modal").transition("scale"),this.isProPluginActive()&&a.hasClass("selectBtn")){var o=e(".dataTables_scrollBody table tbody");a.prop("checked")?(e("#active_hide_rows").prop("checked",!1),o.addClass("cell_hiding_active"),e(document).on("click",".dataTables_scrollBody table tr > td",(function(t){if(e("#active_hidden_cells").prop("checked")){t.stopPropagation();var a=e(t.currentTarget),o=a.attr("data-index");n.insertSelectedCellToSelectBox(o),n.insertHiddenCellToInputBox(o),a.find(".cell_div").hide(300)}}))):(o.removeClass("cell_hiding_active"),e(".dataTables_scrollBody table tr > td").unbind("click"))}}},{key:"handleRowsVisibility",value:function(t){var n=e(t.currentTarget),a=n.find(".menu .item:not(.active)");a&&e.each(a,(function(t,a){var o=e(a).attr("data-value");e(".dataTables_scrollBody table tbody .row_".concat(o)).show(300);var r,i=[],s=e("#hide_rows");if(s.val()){var c=(i=JSON.parse(s.val())).indexOf(o);-1!=c&&(i.splice(c,1),r=JSON.stringify(i),s.val(r))}setTimeout((function(){n.find(".menu [data-value=".concat(o,"]")).remove()}),200)}))}},{key:"handleCellVisibility",value:function(t){var n=e(t.currentTarget),a=n.find(".menu .item:not(.active)");a&&e.each(a,(function(t,a){var o=e(a).attr("data-value");e(".dataTables_scrollBody table tbody tr .cell_index_".concat(o," .cell_div")).show(300);var r,i=[],s=e("#hide_cell");if(s.val()){i=JSON.parse(s.val());for(var c="[".concat(o.split("-"),"]"),l=0;l<i.length;l++)if(i[l]==c){i.splice(l,1),r=JSON.stringify(i),s.val(r);break}}setTimeout((function(){n.find(".menu [data-value=".concat(o,"]")).remove()}),200)}))}},{key:"showTableRows",value:function(t){var n=e(".dataTables_scrollBody table .gswpts_rows");n&&e.each(n,(function(t,n){var a=e(n).attr("data-index");0==e("#hidden_rows > [data-value=".concat(a,"]")).length&&e(n).show(300)}))}},{key:"showTableCells",value:function(t){var n=e(".dataTables_scrollBody table .gswpts_rows td");n&&e.each(n,(function(t,n){var a=JSON.parse(e(n).attr("data-index")).join("-");0==e("#hidden_cells > [data-value=".concat(a,"]")).length&&e(n).find(".cell_div").show(300)}))}}])&&j(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),s}(n))})),jQuery(document).ready((function(e){new(function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(s,t);var n,a,o,r,i=(o=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=J(o);if(r){var n=J(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return I(this,e)});function s(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).settings_checkbox=e(".settings_row input[type=checkbox]"),t.pro_settings=e(".pro_setting"),t.large_promo_close=e(".large_promo_close"),t.events(),t}return n=s,(a=[{key:"events",value:function(){var t=this;this.settings_checkbox.on("change",(function(n){var a=e(n.currentTarget);a.parents(".card").find(".settings_desc"),"custom_css"==a.attr("id")&&t.removeCodeEditorRestriction(a)})),this.pro_settings.on("click",(function(t){e(t.currentTarget).prop("checked",!1),WPPOOL.Popup("sheets_to_wp_table_live_sync").show()})),this.large_promo_close.on("click",(function(e){t.close_promo(e)})),"gswpts-general-settings"==this.get_slug_parameter("page")&&this.initiateCodeEditor()}},{key:"removeCodeEditorRestriction",value:function(e){var t=e.parents(".card").find("#gswptsCSSeditor");e.prop("checked")?t.css({opacity:"1","pointer-events":"all"}):t.css({opacity:"0.5","pointer-events":"none"})}},{key:"initiateCodeEditor",value:function(){var t=ace.edit("gswptsCSSeditor",{selectionStyle:"text"}),n=e("#css_code_value");t.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,showPrintMargin:!1,maxLines:1/0,fontSize:"100%"}),t.setTheme("ace/theme/vibrant_ink"),t.renderer.setOption("showLineNumbers",!0),t.getSession().setUseWrapMode(!0),t.setShowPrintMargin(!1),t.setOptions({autoScrollEditorIntoView:!0}),t.setOption("mergeUndoDeltas","always"),t.getSession().setMode("ace/mode/css"),t.setValue(n.val()),t.clearSelection(),t.on("change",(function(e){var a=t.getValue();n.val(a)}))}},{key:"show_settings_desc",value:function(e){e.hasClass("pro_setting")||e.parents(".card").find(".settings_desc").transition("fade down")}},{key:"activate_promo",value:function(t){var n=e(t.currentTarget);n.prop("checked",!1),this.changeButtonTextLinks(t);var a=n.parents(".dash_boxes").find(".promo_large");a.addClass("active"),a.css({opacity:1})}},{key:"changeButtonTextLinks",value:function(t){var n=e(t.currentTarget),a=n.parents(".dash_boxes").find(".promo_large .promo_inner a");n.hasClass("upcoming_setting")?a.html("Upcoming"):a.html("Buy now")}},{key:"close_promo",value:function(t){var n=e(t.currentTarget).parents(".promo_large");n.removeClass("active"),n.css({opacity:0})}}])&&N(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),s}(n))})),jQuery(document).ready((function(e){new(function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(s,t);var n,a,o,r,i=(o=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(o);if(r){var n=V(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return U(this,e)});function s(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).tabContainer=e("#gswpts_tab_container"),t.unSelectBtn=e("#manage_tab_unselect_btn"),t.deleteBtn=e("#tab_delete_button"),t.checkbox_switcher=!1,t.events(),t}return n=s,(a=[{key:"events",value:function(){var t=this;this.fetch_data_by_page(),e(document).on("click",".gswpts_tab_sortcode_copy",(function(e){t.copy_shorcode(e),t.higlightSortcodeText(e)})),e(document).on("click","#manage_tab_checkbox",(function(e){t.toggle_content(e)})),this.unSelectBtn.on("click",(function(e){t.clearSelection()})),e(document).on("change",".manage_tab_name_toggle > input",(function(e){t.updateTabNameToggle(e)}))}},{key:"higlightSortcodeText",value:function(t){var n=e(t.currentTarget)[0];if(document.body.createTextRange){var a=document.body.createTextRange();a.moveToElementText(n),a.select()}else if(window.getSelection){var o=window.getSelection(),r=document.createRange();r.selectNodeContents(n),o.removeAllRanges(),o.addRange(r)}else console.warn("Could not select text in node: Unsupported browser.")}},{key:"fetch_data_by_page",value:function(){var t=this;if(this.get_slug_parameter("page")&&"gswpts-manage-tab"===this.get_slug_parameter("page")&&"create-tab"!=this.get_slug_parameter("subpage")){var n=e(".swptls-manage-tabs-container").data("nonce");e.ajax({url:file_url.admin_ajax,data:{action:"gswpts_manage_tab",nonce:n,page_slug:this.get_slug_parameter("page")},type:"post",success:function(e){t.tabContainer.html(e.data.output)},complete:function(n){e(".tab_create_btn").transition("show");var a=JSON.parse(n.responseText).data;"success"===a.response_type&&(e("#manage_tabs").DataTable({columnDefs:[{targets:[0,4],orderable:!1}],bInfo:!1,order:[]}),a.no_data?t.call_alert("Warning &#9888;&#65039;","<b>No tab found. Create a new</b>","warning",3):t.call_alert("Successfull &#128077;","<b>All Tabs Fetched Successfully</b>","success",3))},error:function(n){t.call_alert("Error &#128683;","<b>Something went wrong</b>","error",3),t.tabContainer.html(""),e(".tab_create_btn").css({"margin-left":"unset",top:"unset"})}})}}},{key:"toggle_content",value:function(t){"false"==e(t.currentTarget).attr("data-show")&&(this.deleteBtn.transition("scale"),this.unSelectBtn.transition("scale"),this.check_all_checkbox(),this.checkbox_switcher=!0),"true"==e(t.currentTarget).attr("data-show")&&(this.deleteBtn.transition("scale"),this.unSelectBtn.transition("scale"),this.uncheck_all_checkbox(),this.checkbox_switcher=!1),e(t.currentTarget).attr("data-show",""+this.checkbox_switcher)}},{key:"check_all_checkbox",value:function(){e(".manage_tab_checkbox").prop("checked",!0)}},{key:"uncheck_all_checkbox",value:function(){e(".manage_tab_checkbox").prop("checked",!1)}},{key:"clearSelection",value:function(t){e("#manage_tab_checkbox").prop("checked",!1),e("#manage_tab_checkbox").attr("data-show",!1),this.deleteBtn.transition("scale"),this.unSelectBtn.transition("scale"),this.uncheck_all_checkbox(),this.checkbox_switcher=!1}},{key:"updateTabNameToggle",value:function(t){var n=this,a=e(t.currentTarget),o=a.prop("checked"),r=a.attr("data-id"),i=e(".swptls-manage-tabs-container").data("nonce");r?e.ajax({url:file_url.admin_ajax,data:{action:"gswpts_manage_tab_toggle",show_name:o,tabID:r,nonce:i},type:"post",success:function(e){"invalid_action"!=JSON.parse(e).response_type&&"invalid_request"!=JSON.parse(e).response_type||n.call_alert("Error &#128683;",JSON.parse(e).output,"error",4),"success"==JSON.parse(e).response_type&&n.call_alert("Successfull &#128077;",JSON.parse(e).output,"success",3)},error:function(e){n.call_alert("Error &#128683;","<b>Something went wrong</b>","error",3)}}):this.call_alert("Warning &#9888;&#65039;","Tab id not found to update","warning",3)}}])&&L(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),s}(n))})),function(e){new(function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H(e,t)}(s,t);var n,a,o,r,i=(o=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Q(o);if(r){var n=Q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return X(this,e)});function s(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).tabInputBtn=e(".tab_input_btn"),t.saveTabBtn=e(".gswpts_save_tab_changes.create"),t.updateTabBtn=e(".gswpts_save_tab_changes.update"),t.nonce=e(".swptls-manage-tabs-container").data("nonce"),t.events(),t}return n=s,(a=[{key:"events",value:function(){var t=this;e(document).on("click",".tab_hidden_input",this.showContent),this.tabInputBtn.on("click",(function(){t.addTab()})),e(document).on("click",".close_tab_container",this.closeTab),this.addDragging(),e(document).on("dblclick",".tabs .tab_name_label",this.editTabName),e(document).on("keypress",".tabs .tab_name_label",this.closeEditMode),e(document).on("change",".hidden_tab_name",this.changeTabName),e(document).on("click",".tab-content .card_remover",this.removeCard),this.saveTabBtn.on("click",(function(){t.saveTabChanges()})),this.updateTabBtn.on("click",(function(){t.updateTabChanges()})),e(document).on("click",".tab_positon_btn",this.toggleTabPosition)}},{key:"showContent",value:function(t){var n=e(t.currentTarget);n.parents(".tab_bottom_side").find(".tab_contents .tab-content").hide().removeClass("active");var a=n.attr("id").match(/(\d+)/)[0];n.parents(".tab_bottom_side").find(".tab_contents #tab-content".concat(a)).fadeIn().addClass("active").css({display:"flex"})}},{key:"addDragging",value:function(){e(".draggable").draggable({revert:!1,stack:".draggable",helper:"clone"}),e(".draggable").on("dragstart",(function(t){var n=e(t.currentTarget);n.addClass("dragging"),n.css({"z-index":2}),n.parent().find(".ui-draggable-dragging").css({"z-index":3}),e(".droppable").droppable({accept:".draggable",drop:function(t,n){var a=e(this),o=n.draggable;a.find(".demo_content").remove(),(e(".droppable").has(n.draggable).length?o:o.clone()).appendTo(a),a.find(".card_remover").css({display:"block",margin:"6px 8px 0 0"}),a.find(".card").css({"min-width":"230px"})}})})),e(".draggable").on("dragstop",(function(t){e(t.currentTarget).removeClass("dragging")}))}},{key:"addTab",value:function(t){var n=e(".demo_template"),a=e(".tab_bottom_side .tabs").length,o=parseInt(e(".tab_page_input").val()),r=e(".container_tab_name").val();if(!(o<1)){var i=n.clone(!0),s="",c="",l=e(".tabs li").length-1,u=l;o+=l;for(var d=0;u<o;u++)s+='\n                    <li>\n                        <input type="radio" \n                                name="tabs'.concat(a,'" \n                                id="tab').concat(u+a,'" \n                                data-id="').concat(u+a,'"\n                                class="tab_hidden_input" ').concat(0==d?"checked":"",' />\n                        <label class="tab_name_label unselectable" for="tab').concat(u+a,'" role="tab">\n                            <span class="tab_page_name">tab').concat(d+1,'</span>\n                            <div class="ui input">\n                                <input type="text" class="hidden_tab_name" value="tab').concat(d+1,'" placeholder="Tab name..."/>\n                            </div>\n                        </label>\n                    </li>\n                '),c+='\n                    <div id="tab-content'.concat(u+a,'" class="tab-content droppable ').concat(0==d?"active":"",'">\n                        <b class="demo_content">\n                            Tab #').concat(d+1," content\n                        </b>\n                    </div>\n                "),d++;i.find(".tab_name").val(r),i.find(".tabs").html(""),i.find(".tab_contents").html(""),i.find(".tabs").append(s),i.find(".tab_contents").append(c),i.removeClass("demo_template"),e(".left_side_parent").append(i)}}},{key:"editTabName",value:function(t){var n=e(t.currentTarget);n.parent().siblings("li").find(".tab_name_label").removeClass("active");var a=n.find(".hidden_tab_name").val();a&&""!=a||n.find(".hidden_tab_name").val(n.parent().find(".tab_hidden_input").attr("id")),n.addClass("deactivate_transition"),n.toggleClass("active"),setTimeout((function(){n.removeClass("deactivate_transition"),n.addClass("active_transition")}),300)}},{key:"closeEditMode",value:function(t){var n=e(t.currentTarget);if(13==t.which)return n.dblclick(),!1}},{key:"changeTabName",value:function(t){var n,a=e(t.currentTarget),o=a.val();n=o&&""!=o?o:a.parents("li").find(".tab_hidden_input").attr("id"),a.parents(".tab_name_label").find(".tab_page_name").html(n)}},{key:"closeTab",value:function(t){e(t.currentTarget).parents(".tab_bottom_side").remove()}},{key:"removeCard",value:function(t){var n=e(t.currentTarget),a=n.parents(".tab-content"),o=a.attr("id");o=parseInt(o.match(/\d/)[0]),a.children().length<2&&a.html('<b class="demo_content">Tab #'.concat(o," content</b>")),n.parents(".card").remove()}},{key:"collectData",value:function(){var t=[],n=e(".tab_bottom_side:not(.demo_template)");if(n.length<1)return t;function a(t){var n=[];return t.length&&e.each(t,(function(t,a){n.push(parseInt(e(a).attr("data-table_id")))})),n}return e.each(n,(function(n,o){var r=e(o).find(".tabs li");e(o).find(".tab-content > *:not(.demo_content)").length>0&&t.push(function(t){var n,o,r={tabName:t.parents(".tab_bottom_side").find(".tab_name_box .tab_name").val()||"Tab name",reverseMode:(n=t,o=!1,n.parents(".tab_bottom_side").find(".tab_positon_btn").hasClass("down")&&n.parents(".tab_bottom_side").find(".tabs_container").hasClass("reverse")&&(o=!0),o),tabSettings:[]};return t.length<1||e.each(t,(function(n,o){if(t.length){var i=parseInt(e(o).find(".tab_hidden_input").attr("data-id")),s=e(o).parents(".tab_bottom_side").find("#tab-content".concat(i," .card"));r.tabSettings.push({id:i,name:e(o).find(".hidden_tab_name").val(),tableID:a(s)})}})),r}(r))})),t}},{key:"saveTabChanges",value:function(){var t,n=this,a=this.collectData();a.length?e.ajax({url:file_url.admin_ajax,data:{action:"gswpts_tab_changes",nonce:this.nonce,type:"create",fragments:null!==(t=a[0])&&void 0!==t?t:[]},type:"post",beforeSend:function(){e(".gswpts_save_tab_changes").attr("disabled",!0)},success:function(e){"invalid_action"!=e.data.response_type&&"invalid_request"!=e.data.response_type&&"error"!=e.data.response_type||n.call_alert("Error &#128683;",e.data.output,"error",4)},complete:function(e){"success"==JSON.parse(e.responseText).data.response_type&&(window.location.href=file_url.manageTabURL)},error:function(t){e(".gswpts_save_tab_changes").attr("disabled",!1),n.call_alert("Error &#128683;","<b>Something went wrong</b>","error",3)}}):this.call_alert("Warning &#9888;&#65039;","<b>Table is not selected to create tab</b>","warning",3)}},{key:"updateTabChanges",value:function(){var t=this,n=this.collectData();n.length?(n[0].tabID=parseInt(e(".tab_bottom_side").attr("data-tabID")),e.ajax({url:file_url.admin_ajax,data:{action:"gswpts_tab_changes",nonce:this.nonce,type:"update",fragments:n},type:"post",beforeSend:function(){e(".gswpts_save_tab_changes").attr("disabled",!0)},success:function(e){"invalid_action"!=e.data.response_type&&"invalid_request"!=e.data.response_type&&"error"!=e.data.response_type||t.call_alert("Error &#128683;",e.data.output,"error",4),"success"==e.data.response_type&&t.call_alert("Successfull &#128077;",e.data.output,"success",3)},complete:function(){e(".gswpts_save_tab_changes").attr("disabled",!1)},error:function(n){e(".gswpts_save_tab_changes").attr("disabled",!1),t.call_alert("Error &#128683;","<b>Something went wrong</b>","error",3)}})):this.call_alert("Warning &#9888;&#65039;","<b>No table is found inside tab to update. if you want to delete it than delete it from tab dashboard</b>","warning",4)}},{key:"toggleTabPosition",value:function(t){var n=e(t.currentTarget);n.toggleClass("down"),n.parents(".tab_bottom_side").find(".tabs_container").toggleClass("reverse")}}])&&W(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),s}(n))}(jQuery),jQuery(document).ready((function(e){e(".gswpts_loader").length&&(e(".gswpts_loader").transition("fade"),setTimeout((function(){e(".dashboard_content, .manage_table_content, .create_table_content, .create_tab_content, .settings_content").transition("fade")}),300))}))})();
//# sourceMappingURL=admin.min.js.map